# S3

- Object storage
  - S3 provides secure, durable, highly scalable object storage
- Scalable
  - S3 allows you to store and retrieve any amount of data from anywhere on the web at low cost
- Simple
  - S3 is easy to use with a simple web service interface

S3 is object-based storage - Manages data as objects rather than in file systems or data blocks:
- Upload any file type
- Examples include photos, videos, code, documents and text files
- Cannot be used to run an operation system or database
- Unlimited storage, with maximum file size of 5TB
- Files are stored in S3 buckets (similar to a folders)
- Universal namespace
  - All AWS accounts share the S3 namespace
  - Each S3 bucket name is globabally unique
- Example S3 URLs
  - https://`bucket-name`.s3.region.amazonaws.com/`key-name`
  - https://`acloudguru`.s3.us-east-1.amazonaws.com/`ralphie.jpg`

Key value store:
- Key: The name of the object e.g. `ralphie.jpg`
- Value: the data itself, which is made up of a sequence of bytes
- Version ID: Important for storing multiple versions of the same object
- Metadata: Data about the data you are storing e.g. content-type, last-modified etc.

S3 is a safe place to store files - The data is spread across multiple devices and facilities to ensure availability and durability:
- Availability: 99.95% to 99.99% service availability
- Durability: 99.999999999% durability i.e. essentially you will never lose your data

Tiers:
- S3 Standard
  - Default storage class, suitable for websites, content distribution, mobile and gaming applications, big data analytics
  - High availability and durability
  - Data is stored redundantly across multiple devices in multiple facilities (>= 3 AZs)
  - 99.99% availability and 99.999999999% durability
  - Designed for frequent access

Securing your data:
- Server-side encryption
  - You can set default encryption on a bucket to encrypt all new objects when they are stored in the bucket
- Access control lists (ACLs)
  - Define which AWS accounts or groups are granted access and the type of access
  - You can attach S3 ACLs to individual objects with a bucket; so these work on an individual object level
- Bucket policies
  - S3 bucket policies specify what actions are allowed/denied e.g. allow Alice to `PUT` but not `DELETE` objects in the bucket

Read-After-Write consistency
- After a successful write of a new object (`PUT`) or an overwrite of an existing object, any subsequent read request immediately receives the latest version of the object
- Strong consistency for list operations, so after a write, you can immediately perform a listing of the objects in a bucket with all changes reflected

## Hosting static website using S3

You can use S3 to host `static` websites such as `.html` sites.
Dynamic websites, such as those that require database connections, cannot be hosted on S3.

S3 scales automatically to meet demand.
Many enterprises will put static websites on S3 when they think there is going to be a large number of requests e.g. a movie preview.
